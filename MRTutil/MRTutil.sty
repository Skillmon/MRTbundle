\newcommand*\MRTutil@version{0.0.1}
\newcommand*\MRTutil@date{2019-01-30}

\NeedsTeXFormat{LaTeX2e}

\ProvidesPackage{MRTutil}
  [%
    \MRTutil@date\space v\MRTutil@version\space provides some utility macros for
    the MRTbundle%
  ]

%% def macros >>>
\@ifdefinable\MRTutil@def@%>>>
  {%
    \protected\def\MRTutil@def@#1%
      {\@ifnextchar[{\MRTutil@def@a#1}{\MRTutil@def@a#1[]}}%
  }%<<<
\@ifdefinable\MRTutil@def@a%>>>
  {%
    \long\def\MRTutil@def@a#1[#2]#3#4#{\MRTutil@def@b#1{#2}#3{#4}}%
  }%<<<
\@ifdefinable\MRTutil@def@b%>>>
  {%
    \protected\long\def\MRTutil@def@b#1#2#3#4#5{#2#1#3#4{#5}}%
  }%<<<
\@ifdefinable\MRTutil@def%>>>
  {%
    \protected\def\MRTutil@def{\MRTutil@def@\def}
  }%<<<
\MRTutil@def[\protected]\MRTutil@edef%>>>
  {%
    \MRTutil@def@\edef
  }%<<<
% <<<

%% opt arg parsing >>>
\MRTutil@def\MRTutil@@mark{\MRTutil@@mark}
\MRTutil@def[\long]\MRTutil@ifmark#1%>>>
  {%
    \ifx\MRTutil@@mark#1%
      \MRTif@fiAa
    \else
      \MRTif@fiBb
    \fi
  }%<<<
\MRTutil@def[\protected\long]\MRTutil@Oarg#1#2%>>>
  {%
    \@ifnextchar[{\MRTutil@Oarg@{#2}}{\MRTutil@Oarg@{#2}[{#1}]}%
  }%<<<
\MRTutil@def[\long]\MRTutil@Oarg@#1[#2]%>>>
  {%
    #1{#2}%
  }%<<<
\MRTutil@def[\protected]\MRTutil@oarg%>>>
  {%
    \MRTutil@Oarg\MRTutil@@mark
  }%<<<
\MRTutil@def[\protected\long]\MRTutil@Darg#1#2#3#4%>>>
  {%
    \long\def\MRTutil@Darg@##1#1##2#2{##1{##2}}%
    \@ifnextchar#1{\MRTutil@Darg@{#4}}{\MRTutil@Darg@{#4}#1{#3}#2}%
  }%<<<
\MRTutil@def[\protected\long]\MRTutil@darg#1#2%>>>
  {%
    \MRTutil@Darg#1#2\MRTutil@@mark
  }%<<<
% <<<

\endinput
