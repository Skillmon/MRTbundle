\newcommand*\MRTif@version{0.0.3}
\newcommand*\MRTif@date{2018-11-07}

\NeedsTeXFormat{LaTeX2e}

\ProvidesPackage{MRTif}%
  [%
    \MRTif@date\space v\MRTif@version\space some if tests originally for MRTbeam
    and mrtarbeit%
  ]
\RequirePackage{pdftexcmds}

\edef\endMRTifargument{\detokenize{{.$^_&}{}}{.$^_&}{}UnlikelyString}
\newcommand\MRTif@endMRTifargument[1]% >>>
  {%
    \ifx\endMRTifargument#1%
      \expandafter\@firstoftwo
    \else
      \expandafter\@secondoftwo
    \fi
  }% <<<

\newcommand*\MRTif@groupify@TF[1]% >>>
  {%
    \expandafter\newcommand\csname MRTif#1GTF\endcsname{}%
    \expandafter\long\expandafter\edef\csname MRTif#1GTF\endcsname##1%
      {%
        \unexpanded{\MRTifGroupTF}{##1}%
        {\unexpanded\expandafter{\csname MRTif#1GTF\endcsname}##1}%
        {\unexpanded\expandafter{\csname MRTif#1TF\endcsname}{##1}}%
      }%
  }% <<<
\newcommand*\MRTif@create@TandF[1]% >>>
  {%
    \expandafter\newcommand\csname MRTif#1T\endcsname{}%
    \expandafter\long\expandafter\edef\csname MRTif#1T\endcsname##1%
      {%
        \unexpanded\expandafter{\csname MRTif#1TF\endcsname}{##1}%
          {\noexpand\@firstofone}
          {\noexpand\@gobble}%
      }%
    \expandafter\newcommand\csname MRTif#1F\endcsname{}%
    \expandafter\long\expandafter\edef\csname MRTif#1F\endcsname##1%
      {%
        \unexpanded\expandafter{\csname MRTif#1TF\endcsname}{##1}%
          {\noexpand\@gobble}
          {\noexpand\@firstofone}%
      }%
  }% <<<
\newcommand*\MRTif@create@TandF@twoargs[1]% >>>
  {%
    \expandafter\newcommand\csname MRTif#1T\endcsname{}%
    \expandafter\long\expandafter\edef\csname MRTif#1T\endcsname##1##2%
      {%
        \unexpanded\expandafter{\csname MRTif#1TF\endcsname}{##1}{##2}%
          {\noexpand\@firstofone}
          {\noexpand\@gobble}%
      }%
    \expandafter\newcommand\csname MRTif#1F\endcsname{}%
    \expandafter\long\expandafter\edef\csname MRTif#1F\endcsname##1##2%
      {%
        \unexpanded\expandafter{\csname MRTif#1TF\endcsname}{##1}{##2}%
          {\noexpand\@gobble}
          {\noexpand\@firstofone}%
      }%
  }% <<<
\newcommand*\MRTif@create@N@TandF[1]% >>>
  {%
    \expandafter\newcommand\csname MRTif#1NTF\endcsname{}%
    \expandafter\long\expandafter\edef\csname MRTif#1NTF\endcsname##1%
      {%
        \noexpand\expandafter
        \expandafter\noexpand\csname MRTif#1TF\endcsname
        \noexpand\expandafter{##1}%
      }%
    \MRTif@create@TandF{#1N}%
  }% <<<
\newcommand*\MRTif@create@N@TandF@twoargs[1]% >>>
  {%
    \expandafter\newcommand\csname MRTif#1NNTF\endcsname{}%
    \expandafter\long\expandafter\edef\csname MRTif#1NNTF\endcsname##1##2%
      {%
        \noexpand\expandafter
        \expandafter\noexpand\csname MRTif#1NNTF@a\endcsname
        \noexpand\expandafter{##2}{##1}%
      }%
    \expandafter\newcommand\csname MRTif#1NNTF@a\endcsname{}%
    \expandafter\long\expandafter\edef\csname MRTif#1NNTF@a\endcsname##1##2%
      {%
        \noexpand\expandafter
        \expandafter\noexpand\csname MRTif#1TF\endcsname
        \noexpand\expandafter{##2}{##1}%
      }%
    \MRTif@create@TandF@twoargs{#1NN}%
    \expandafter\newcommand\csname MRTif#1NnTF\endcsname{}%
    \expandafter\long\expandafter\edef\csname MRTif#1NnTF\endcsname##1##2%
      {%
        \noexpand\expandafter
        \expandafter\noexpand\csname MRTif#1TF\endcsname
        \noexpand\expandafter{##1}{##2}%
      }%
    \MRTif@create@TandF@twoargs{#1Nn}%
    \expandafter\newcommand\csname MRTif#1nNTF\endcsname{}%
    \expandafter\long\expandafter\edef\csname MRTif#1nNTF\endcsname##1##2%
      {%
        \noexpand\expandafter
        \expandafter\noexpand\csname MRTif#1nNTF@a\endcsname
        \noexpand\expandafter{##2}{##1}%
      }%
    \expandafter\newcommand\csname MRTif#1nNTF@a\endcsname{}%
    \expandafter\long\expandafter\edef\csname MRTif#1nNTF@a\endcsname##1##2%
      {%
        \expandafter\noexpand\csname MRTif#1TF\endcsname{##2}{##1}
      }%
    \MRTif@create@TandF@twoargs{#1nN}%
  }% <<<
\newcommand*\MRTif@create@TandF@N@TandF[1]% >>>
  {%
    \MRTif@create@TandF{#1}%
    \MRTif@create@N@TandF{#1}%
  }% <<<
\newcommand*\MRTif@create@TandF@N@TandF@twoargs[1]% >>>
  {%
    \MRTif@create@TandF@twoargs{#1}%
    \MRTif@create@N@TandF@twoargs{#1}%
  }% <<<
\newcommand\MRTif@notEmpty@noGroup@noSpace[2]% >>>
  {%
    \MRTifEmptyTF{#1}
      {\@secondoftwo}
      {%
        \MRTifContainsGroupTF{#1}
          {\@secondoftwo}
          {%
            \MRTifContainsSpaceTF{#1}
              {\@secondoftwo}
              {#2}%
          }%
      }%
  }% <<<
% MRTifEmpty >>>
\newcommand\MRTifEmptyTF[1]{% >>>
  \if\relax\detokenize{#1}\relax
    \expandafter\@firstoftwo
  \else
    \expandafter\@secondoftwo
  \fi}
% <<<
\newcommand\MRTifEmptyT[1]{% >>>
  \if\relax\detokenize{#1}\relax
    \expandafter\@firstofone
  \else
    \expandafter\@gobble
  \fi}
% <<<
\newcommand\MRTifEmptyF[1]{% >>>
  \if\relax\detokenize{#1}\relax
    \expandafter\@gobble
  \else
    \expandafter\@firstofone
  \fi}
% <<<
\newcommand\MRTifEmptyNTF[1]% >>>
  {\expandafter\MRTifEmptyTF\expandafter{#1}}% <<<
\newcommand\MRTifEmptyNT[1]% >>>
  {\expandafter\MRTifEmptyT\expandafter{#1}}% <<<
\newcommand\MRTifEmptyNF[1]% >>>
  {\expandafter\MRTifEmptyF\expandafter{#1}}% <<<
\MRTif@groupify@TF{Empty}
\MRTif@create@TandF@N@TandF{EmptyG}
% <<<
% MRTifGroup >>>
\newcommand\MRTifGroupTF[1]% >>>
  {\expandafter\MRTifGroup@a\romannumeral-`\.#1.{}\MRTifGroup@endargument}% <<<
\newcommand\MRTifGroup@a{}% >>>
\long\def\MRTifGroup@a#1#%
  {\MRTifEmptyTF{#1}{\MRTifGroup@b}{\MRTifGroup@c}}% <<<
\newcommand\MRTifGroup@b{}% >>>
\long\def\MRTifGroup@b#1#2#3\MRTifGroup@endargument
  {\MRTifEmptyTF{#3}{\@firstoftwo}{\@secondoftwo}}% <<<
\newcommand\MRTifGroup@c{}% >>>
\long\def\MRTifGroup@c#1\MRTifGroup@endargument
  {\@secondoftwo}% <<<
\MRTif@create@TandF@N@TandF{Group}
% <<<
% MRTifGroupNoSpaces >>>
\newcommand\MRTifGroupNoSpacesTF[1]% >>>
  {%
    \expandafter\MRTifStringsMatchTF\expandafter
      {\MRTifGroupNoSpaces@a#1\end@MRTifGroupNoSpaces@a}{#1}
      {\@secondoftwo}
      {\@firstoftwo}
  }% <<<
\newcommand\MRTifGroupNoSpaces@a{}
\long\def\MRTifGroupNoSpaces@a#1\end@MRTifGroupNoSpaces@a{#1}
\MRTif@create@TandF@N@TandF{GroupNoSpaces}
% <<<
% MRTifStringsMatch >>>
\newcommand\MRTifStringsMatchTF[2]% >>>
  {%
    \expandafter\MRTifStringsMatch@a\expandafter{\detokenize{#2}}{#1}
  }% <<<
\newcommand\MRTifStringsMatch@a[2]% >>>
  {%
    \expandafter\MRTifStringsMatchXXTF\expandafter{\detokenize{#2}}{#1}
  }% <<<
\newcommand\MRTifStringsMatchGTF[2]% >>>
  {%
    \MRTifGroupTF{#1}
      {\MRTifStringsMatchGTF#1{#2}}
      {%
        \MRTifGroupTF{#2}
          {\MRTifStringsMatchGTF#2{#1}}
          {\MRTifStringsMatchTF{#1}{#2}}
      }%
  }% <<<
\MRTif@create@TandF@N@TandF@twoargs{StringsMatch}
\MRTif@create@TandF@N@TandF@twoargs{StringsMatchG}
% <<<
% MRTifStringsMatchXX >>>
\newcommand\MRTifStringsMatchXXTF[2]
  {%
    \ifnum\pdf@strcmp{#1}{#2}=0
      \expandafter\@firstoftwo
    \else
      \expandafter\@secondoftwo
    \fi
  }
\newcommand\MRTifStringsMatchXXGTF[2]% >>>
  {%
    \MRTifGroupTF{#1}
      {\MRTifStringsMatchXXGTF#1{#2}}
      {%
        \MRTifGroupTF{#2}
          {\MRTifStringsMatchXXGTF#2{#1}}
          {\MRTifStringsMatchXXTF{#1}{#2}}%
      }%
  }% <<<
\MRTif@create@TandF@twoargs{StringsMatchXX}
\MRTif@create@TandF@twoargs{StringsMatchXXG}
% <<<
% MRTifOneToken >>>
\newcommand\MRTifOneTokenTF[1]% >>>
  {%
    \MRTifEmptyTF{#1}{\@secondoftwo}
      {%
        \MRTifOneToken@a#1.\end@MRTifOneTokenTF
      }%
  }% <<<
\newcommand\MRTifOneToken@a{}% >>>
\long\def\MRTifOneToken@a#1#2#3\end@MRTifOneTokenTF
  {\MRTifEmptyTF{#3}}% <<<
\MRTif@groupify@TF{OneToken}
\MRTif@create@TandF@N@TandF{OneToken}
\MRTif@create@TandF@N@TandF{OneTokenG}
% <<<
% MRTifTwoToken >>>
\newcommand\MRTifTwoTokenTF[1]% >>>
  {%
    \MRTifEmptyTF{#1}{\@secondoftwo}
      {%
        \MRTifOneToken@a#1.\end@MRTifOneTokenTF
          {\@secondoftwo}
          {%
            \MRTifTwoToken@a#1.\end@MRTifTwoTokenTF
          }%
      }%
  }% <<<
\newcommand\MRTifTwoToken@a{}% >>>
\long\def\MRTifTwoToken@a#1#2#3#4\end@MRTifTwoTokenTF
  {\MRTifEmptyTF{#4}}% <<<
\MRTif@groupify@TF{TwoToken}
\MRTif@create@TandF@N@TandF{TwoToken}
\MRTif@create@TandF@N@TandF{TwoTokenG}
% <<<
% MRTifNumToken>>>
\newcommand\MRTifNumTokenTF[2]% >>>
  {%
    \ifnum\MRTtllength{#2}=#1\relax
      \expandafter\@firstoftwo
    \else
      \expandafter\@secondoftwo
    \fi
  }% <<<
\newcommand\MRTifNumTokenGTF[2]% >>>
  {%
    \MRTifGroupTF{#2}
      {\MRTifNumTokenGTF{#1}#2}
      {\MRTifNumTokenTF{#1}{#2}}
  }% <<<
\newcommand\MRTifNumTokenN@[2]% >>>
  {%
    \MRTifNumTokenTF{#2}{#1}%
  }% <<<
\newcommand\MRTifNumTokenNTF[2]% >>>
  {%
    \expandafter\MRTifNumTokenN@\expandafter{#2}{#1}%
  }% <<<
\newcommand\MRTifNumTokenGN@[2]% >>>
  {%
    \MRTifNumTokenGTF{#2}{#1}%
  }% <<<
\newcommand\MRTifNumTokenGNTF[2]% >>>
  {%
    \expandafter\MRTifNumTokenGN@\expandafter{#2}{#1}%
  }% <<<
\MRTif@create@TandF@twoargs{NumToken}
\MRTif@create@TandF@twoargs{NumTokenG}
\MRTif@create@TandF@twoargs{NumTokenN}
\MRTif@create@TandF@twoargs{NumTokenGN}
% <<<
% MRTifLetter >>>
\newcommand\MRTifLetterTF[1]% >>>
  {%
    \MRTifGroupTF{#1}
      {\@secondoftwo}
      {%
        \MRTifOneTokenTF{#1}
          {\MRTifLetter@core{#1}}
          {\@secondoftwo}%
      }%
  }% <<<
%\MRTif@groupify@TF{Letter}% possible but results in unnecessary group test
\newcommand\MRTifLetterGTF[1]% >>>
  {%
    \MRTifGroupTF{#1}
      {\MRTifLetterGTF#1}
      {%
        \MRTifOneTokenTF{#1}
          {\MRTifLetter@core{#1}}
          {\@secondoftwo}%
      }%
  }% <<<
%\newcommand\MRTifLetter@core[1]% >>>
\begingroup
\catcode`z=11 % just to make sure z has catcode 11 in the following
\def\MRTif@zz
  {%
    \endgroup
    \newcommand\MRTifLetter@core[1]
      {%
        \ifcat\noexpand##1z%
          \expandafter\@firstoftwo
        \else
          \expandafter\@secondoftwo
        \fi
      }%
  }
\MRTif@zz
% <<<
\MRTif@create@TandF@N@TandF{Letter}
\MRTif@create@TandF@N@TandF{LetterG}
% <<<
% MRTifTokensMatch >>>
\newcommand\MRTifTokensMatchTF[2]% >>>
  {%
    \MRTifGroupTF{#1}
      {\@secondoftwo}
      {%
        \MRTifGroupTF{#2}
          {\@secondoftwo}
          {\MRTifTokensMatch@a{#1}{#2}}%
      }%
  }% <<<
\newcommand\MRTifTokensMatchGTF[2]% >>>
  {%
    \MRTifGroupTF{#1}
      {\MRTifTokensMatchGTF#1{#2}}
      {%
        \MRTifGroupTF{#2}
          {\MRTifTokensMatchGTF#2{#1}}
          {\MRTifTokensMatch@a{#1}{#2}}%
      }%
  }% <<<
\newcommand\MRTifTokensMatch@a[2]% >>>
  {%
    \MRTifOneTokenTF{#1}
      {%
        \MRTifOneTokenTF{#2}
          {%
            \ifx#1#2%
              \expandafter\@firstoftwo
            \else
              \expandafter\@secondoftwo
            \fi
          }
          {\@secondoftwo}%
      }
      {\@secondoftwo}%
  }% <<<
\MRTif@create@TandF@N@TandF@twoargs{TokensMatch}
\MRTif@create@TandF@N@TandF@twoargs{TokensMatchG}
% <<<
% MRTifDigit >>>
\newcommand\MRTifDigitTF[1]% >>>
  {%
    \MRTifOneTokenTF{#1}
      {\MRTifDigit@a{#1}}
      {\@secondoftwo}%
  }% <<<
\newcommand\MRTifDigit@a[1]% >>>
  {%
    \ifx0#1\expandafter\@secondoftwo
    \else\ifx1#1\expandafter\@secondoftwo
    \else\ifx2#1\expandafter\@secondoftwo
    \else\ifx3#1\expandafter\@secondoftwo
    \else\ifx4#1\expandafter\@secondoftwo
    \else\ifx5#1\expandafter\@secondoftwo
    \else\ifx6#1\expandafter\@secondoftwo
    \else\ifx7#1\expandafter\@secondoftwo
    \else\ifx8#1\expandafter\@secondoftwo
    \else\ifx9#1\expandafter\@secondoftwo
    \else\expandafter\@firstoftwo
    \fi{\expandafter\@firstoftwo}{\expandafter\@secondoftwo}%
    \fi{\expandafter\@firstoftwo}{\expandafter\@secondoftwo}%
    \fi{\expandafter\@firstoftwo}{\expandafter\@secondoftwo}%
    \fi{\expandafter\@firstoftwo}{\expandafter\@secondoftwo}%
    \fi{\expandafter\@firstoftwo}{\expandafter\@secondoftwo}%
    \fi{\expandafter\@firstoftwo}{\expandafter\@secondoftwo}%
    \fi{\expandafter\@firstoftwo}{\expandafter\@secondoftwo}%
    \fi{\expandafter\@firstoftwo}{\expandafter\@secondoftwo}%
    \fi{\expandafter\@firstoftwo}{\expandafter\@secondoftwo}%
    \fi
    \@secondoftwo\@firstoftwo
  }% <<<
\MRTif@groupify@TF{Digit}
\MRTif@create@TandF@N@TandF{Digit}
\MRTif@create@TandF@N@TandF{DigitG}
% <<<
% MRTifNumber >>>
\newcommand\MRTifNumberTF[1]% >>>
  {%
    \MRTif@notEmpty@noGroup@noSpace{#1}
      {\MRTifNumber@a#1\MRTifNumber@endargument}%
  }% <<<
\newcommand\MRTifNumber@a[1]% >>>
  {%
    \MRTifOneTokenTF{#1}
      {\MRTifNumber@ifSign{#1}}
      {\MRTifNumber@false}%
  }% <<<
\newcommand\MRTifNumber@ifSign[1]% >>>
  {%
    \MRTifStringsMatchTF{#1}{+}
      {\MRTifNumber@ifDigit}
      {%
        \MRTifStringsMatchTF{#1}{-}
          {\MRTifNumber@ifDigit}
          {\MRTifNumber@ifDigit{#1}}%
      }%
  }% <<<
\newcommand\MRTifNumber@ifDigit[1]% >>>
  {%
    \MRTifStringsMatchTF{#1}{\MRTifNumber@endargument}
      {\@firstoftwo}
      {%
        \MRTifDigitTF{#1}
          {\MRTifNumber@ifDigit}
          {\MRTifNumber@false}%
      }%
  }% <<<
\newcommand\MRTifNumber@false{}% >>>
\long\def\MRTifNumber@false#1\MRTifNumber@endargument
  {%
    \expandafter\@secondoftwo
  }% <<<
\MRTif@groupify@TF{Number}
\MRTif@create@TandF@N@TandF{Number}
\MRTif@create@TandF@N@TandF{NumberG}
% <<<
% MRTifFloat >>>
\newcommand\MRTifFloatTF[1]% >>>
  {%
    \MRTif@notEmpty@noGroup@noSpace{#1}{\MRTifFloat@a{#1}}
  }% <<<
%\newcommand\MRTifFloat@a \newcommand\MRTifFloat@ifDot >>>
\begingroup
\catcode`\?=4
\def\MRTif@zz
  {%
    \endgroup
    \newcommand\MRTifFloat@a[1]
      {%
        \MRTifFloat@ifDot##1.?\MRTifFloat@endargument
          {\MRTifFloat@withDot{##1}}
          {\MRTifNumberTF{##1}}%
      }%
    \newcommand\MRTifFloat@ifDot{}%
    \long\def\MRTifFloat@ifDot##1.##2\MRTifFloat@endargument
      {%
        \ifx?##2
          \expandafter\@secondoftwo
        \else
          \expandafter\@firstoftwo
        \fi
      }%
  }
\MRTif@zz
% <<<
\newcommand\MRTifFloat@withDot[1]% >>>
  {%
    \MRTifFloat@withDot@a#1\MRTifFloat@endargument
  }% <<<
\newcommand\MRTifFloat@withDot@a{}% >>>
\long\def\MRTifFloat@withDot@a#1.#2\MRTifFloat@endargument
  {%
    \MRTifEmptyTF{#1}
      {%
        \MRTifFloat@noSign#2\MRTifFloat@endargument
      }
      {%
        \MRTifNumberTF{#1}
          {\MRTifFloat@noSign#2\MRTifFloat@endargument}
          {\@secondoftwo}%
      }%
  }% <<<
\newcommand\MRTifFloat@noSign{}% >>>
\long\def\MRTifFloat@noSign#1#2\MRTifFloat@endargument
  {%
    \MRTifEmptyTF{#1}
      {\@secondoftwo}
      {%
        \MRTifOneTokenTF{#1}
          {%
            \MRTifStringsMatchTF{#1}{+}
              {\@secondoftwo}
              {%
                \MRTifStringsMatchTF{#1}{-}
                  {\@secondoftwo}
                  {\MRTifNumberTF{#1#2}}%
              }%
          }
          {\@secondoftwo}%
      }%
  }% <<<
\MRTif@groupify@TF{Float}
\MRTif@create@TandF@N@TandF{Float}
\MRTif@create@TandF@N@TandF{FloatG}
% <<<
% MRTifContainsGroup >>>
\newcommand\MRTifContainsGroupTF[1]% >>>
  {%
    \expandafter\MRTifContainsGroup@a
      \MRTifContainsGroup@eat#1{}%
    \MRTifContainsGroup@endargument
  }% <<<
\newcommand\MRTifContainsGroup@eat{}% >>>
\long\def\MRTifContainsGroup@eat#1#{}% <<<
\newcommand\MRTifContainsGroup@a{}% >>>
\long\def\MRTifContainsGroup@a#1\MRTifContainsGroup@endargument
  {%
    \MRTifEmptyTF{#1}
      {\@secondoftwo}
      {\@firstoftwo}%
  }% <<<
\MRTif@groupify@TF{ContainsGroup}
\MRTif@create@TandF@N@TandF{ContainsGroup}
\MRTif@create@TandF@N@TandF{ContainsGroupG}
% <<<
% MRTifContainsSpace >>>
\newcommand\MRTifContainsSpaceTF[1]% >>>
  {%
    \expandafter\MRTifContainsSpace@a
      \MRTifContainsSpace@eat#1
    \MRTifContainsSpace@endargument
  }% <<<
\newcommand\MRTifContainsSpace@a{}% >>>
\long\def\MRTifContainsSpace@a#1\MRTifContainsSpace@endargument
  {%
    \MRTifEmptyTF{#1}
      {\@secondoftwo}
      {\@firstoftwo}%
  }% <<<
\newcommand\MRTifContainsSpace@eat{}% 
\long\def\MRTifContainsSpace@eat#1 {}
\MRTif@groupify@TF{ContainsSpace}
\MRTif@create@TandF@N@TandF{ContainsSpace}
\MRTif@create@TandF@N@TandF{ContainsSpaceG}
% <<<
%\newcommand\MRTifTokenInTF[2]% >>>
  %{%
    %\
  %}% <<<
%
% MRTtllength >>>
\newcommand\MRTtllength@inner[1]% >>>
  {%
    \MRTif@endMRTifargument{#1}
      {\relax}
      {+1\MRTtllength@inner}%
  }% <<<
\newcommand\MRTtllength[1]% >>>
  {%
    \the\numexpr0\MRTtllength@inner#1\endMRTifargument
  }% <<<
\newcommand\MRTtllengthN[1]% >>>
  {%
    \expandafter\MRTtllength\expandafter{#1}%
  }% <<<
% <<<

\endinput
% vim: fdm=marker foldmarker=>>>,<<< ft=tex
