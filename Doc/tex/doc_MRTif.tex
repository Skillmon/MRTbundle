\chapter{The \pkg{MRTif} package}
The \pkg{MRTif} package provides a number of expandable tests. In the following
macros \tfarg\ is used to specify that the macros exist with the endings
\texttt{T}, \texttt{F}, and \texttt{TF}. The \texttt{T} ending stands for a
\meta{true} branch, \texttt{F} for the \meta{false} branch.

If a macro name contains a \texttt{G} prior to \tfarg, it strips any outermost
groups prior to the test using \cs{MRTifGroupTF}. An \texttt{N} denotes that the
first token in the argument is expanded once prior to any test. If a macro which
takes two arguments ends with \texttt{NN} prior to the \tfarg\ in both arguments
the first token is expanded once, \texttt{Nn} and \texttt{nN} mean that only for
the first and second argument, respectively, an expansion is made.

\pkg{MRTif} uses a special marker in some of its tests which expands to the
undefined control sequence
\begin{center}
  \ttfamily
  \detokenize\expandafter\expandafter\expandafter
    {\csname endMRTif@argument\endcsname}%
\end{center}
If you ever see this in your log or console output, please contact me as stated
in \autoref{sec:bugs} and include a minimal example producing this behaviour in
your contacting. Please do the same if you get any other undefined control
sequence errors containing \texttt{MRTif} in the control sequences' name.

\section{Macros}
\begin{describemacroTF}[G,N,GN]{MRTifEmpty}[\marg{arg}]
  Tests if \meta{arg} is completely empty.
\end{describemacroTF}
\dscremaininglines{3}

\begin{describemacroTF}[N]{MRTifGroup}[\marg{arg}]
  Tests if \meta{arg} is a single group no matter what the contents of that
  group are. It ignores spaces around the group.
\end{describemacroTF}

\begin{describemacroTF}[N]{MRTifGroupNoSpaces}[\marg{arg}]
  Tests if \meta{arg} is a single group no matter what the contents of that
  group are. It doesn't ignore spaces around the group.
\end{describemacroTF}

\begin{describemacroTF}[NN,Nn,nN,G,GNN,GNn,GnN]{MRTifStringsMatch}%
  [\marg{string1}\marg{string2}]
  Tests if \meta{string1} and \meta{string2} match, the strings are
  \cs{detokenize}d prior to the comparison.
\end{describemacroTF}
\dscremaininglines{5}

\begin{describemacroTF}[G]{MRTifStringsMatchXX}[\marg{string1}\marg{string2}]
  Tests if \meta{string1} and \meta{string2} match, the strings are fully
  expanded.
\end{describemacroTF}

\begin{describemacroTF}[G,N,GN]{MRTifOneToken}[\marg{arg}]
  Tests if \meta{arg} is only a single token or group.
\end{describemacroTF}
\dscremaininglines{3}

\begin{describemacroTF}[N]{MRTifOneTokenNoGroup}[\marg{arg}]
  Tests if \meta{arg} is only a single token. A single group is also
  \meta{false}. A |G| version is not supplied for obvious reasons.
\end{describemacroTF}

\begin{describemacroTF}[G,N,GN]{MRTifTwoToken}[\marg{arg}]
  Tests if \meta{arg} is exactly two tokens or groups.
\end{describemacroTF}
\dscremaininglines{3}

\begin{describemacroTF}[G,N,GN]{MRTifNumToken}[\marg{num}\marg{arg}]
  Tests if \meta{arg} is exactly \meta{num} tokens long. It uses
  \cs{MRTtllength} internally. Compared to \cs{MRTifOneToken} and
  \cs{MRTifTwoToken} this macro takes longer and the longer the tested
  \meta{arg} the longer it takes. The |G| and |N| variants only work on
  \meta{arg}, \meta{num} will not be changed.
\end{describemacroTF}

\begin{describemacroTF}[G,N,GN]{MRTifLetter}[\marg{arg}]
  Tests if \meta{arg} is a letter, meaning of category code 11.
\end{describemacroTF}
\dscremaininglines{3}

\begin{describemacroTF}[NN,Nn,nN,G,GNN,GNn,GnN]{MRTifTokensMatch}%
  [\marg{arg1}\marg{arg2}]
  Tests if \meta{arg1} and \meta{arg2} are single tokens and if so compares
  them whether both tokens match. The variants without \texttt{G} test if one of
  the arguments is contained in a group. If that's the case the \meta{false}
  branch is executed.
\end{describemacroTF}
\dscremaininglines{5}

\begin{describemacroTF}[G,N,GN]{MRTifDigit}[\marg{arg}]
  Tests if \meta{arg} is a single token and a digit. The implementation might be
  suboptimal.
\end{describemacroTF}
\dscremaininglines{2}

\begin{describemacroTF}[G,N,GN]{MRTifNumber}[\marg{arg}]
  Tests if \meta{arg} is a number, meaning it consists out of an optional
  \texttt{+} or \texttt{-} sign and digits. The implementation might be
  suboptimal.
\end{describemacroTF}
\dscremaininglines{2}

\begin{describemacroTF}[G,N,GN]{MRTifNumberNoSign}[\marg{arg}]
  Same as \cs{MRTifNumberTF} but also returns \meta{false} for a leading sign.
\end{describemacroTF}
\dscremaininglines{3}

\begin{describemacroTF}[G,N,GN]{MRTifFloat}[\marg{arg}]
  Tests if \meta{arg} is a float, meaning it consists out of an optional
  \texttt{+} or \texttt{-} sign, optional digits, an optional decimal marker
  (\texttt{.}) and digits (which are again optional if there were digits prior
  to a decimal marker). The implementation might be suboptimal.
\end{describemacroTF}

\begin{describemacroTF}[G,N,GN]{MRTifFloatNoSign}[\marg{arg}]
  Same as \cs{MRTifFloatTF} but also returns \meta{false} for a leading sign.
\end{describemacroTF}
\dscremaininglines{3}

\begin{describemacroTF}[G,N,GN]{MRTifContainsGroup}[\marg{arg}]
  Tests if \meta{arg} contains any braced groups.
\end{describemacroTF}
\dscremaininglines{3}

\begin{describemacroTF}[G,N,GN]{MRTifContainsSpace}[\marg{arg}]
  Tests if \meta{arg} contains spaces which are not enclosed by inner groups.
\end{describemacroTF}
\dscremaininglines{3}

\begin{describemacro}{MRTtllength,MRTtllengthN}[\marg{arg}]
  Expands to the number of tokens or groups inside of \meta{arg}. Unprotected
  spaces are ignored. The ordinary version needs two expansions while the |N|
  version needs four.
\end{describemacro}

\section{Dependencies}
\pkg{MRTif} loads the \pkg{pdftexcmds} package to make the \hologo{pdfTeX}
primitive \cs{pdfstrcmp} available as \cs{pdf@strcmp} for \hologo{LuaTeX}.
